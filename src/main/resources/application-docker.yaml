moj:
  server:
    assignment-repo: /data/assignments
    performance-validation: true
    languages:
      java-versions:
        - version: 11
          name: Java 11
          compiler: /opt/java/openjdk/bin/javac
          runtime: /opt/java/openjdk/bin/java
    directories:
      team-directory: teams
      lib-directory: lib
      sound-directory: sounds
      javadoc-directory: javadoc
      base-directory: /data/moj-data
    limits:
      compile-timeout: PT30S
      compile-output-limits:
        max-feedback-lines: 1000
        max-chars: 100000
        max-line-len: 1000
        line-truncated-message: "...{truncated}"
        output-trunc-message: "...{output truncated}"
        timeout-message: "...{terminated: compile time expired}"
      test-timeout: PT30S
      test-output-limits:
        max-feedback-lines: 1000
        max-chars: 100000
        max-line-len: 1000
        line-truncated-message: "...{truncated}"
        output-trunc-message: "...{output truncated}"
        timeout-message: "...{terminated: test time expired}"
    runtime:
      game-threads: 20
    competition:
      uuid: 77eff9b5-46cb-4420-bddf-fea52716fc6a
      success-bonus: 400

keycloak:
  auth-server-url: https://auth.moj.first8.nl/auth
  realm: moj
  resource: moj
  public-client: true
  principal-attribute: subject
  use-resource-role-mappings: true

spring:
  h2:
    console:
      enabled: true
      path: /h2
  datasource:
    url: jdbc:h2:file:/data/db/moj
    username: sa
    password: sa
    driver-class-name: org.h2.Driver
  thymeleaf:
    mode: HTML
  flyway:
    enabled: true
    baseline-on-migrate: true
  web:
    resources:
      static-locations: classpath:/bootstrap/sounds/,classpath:/static/
  artemis:
    embedded:
      enabled: true
      queues: compile_request,compile_response,test_request,test_response,submit_request,submit_response
    mode: embedded
    broker-url: vm://0
    user: admin
    password: admin
server:
  forward-headers-strategy: native

logging:
#  pattern:
#    console: "[%X{run}] %clr(%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}"
  level:
    nl.moj.server: debug
    org.keycloak: debug
    org.apache.activemq.audit: error